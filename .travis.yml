language: python
python:
- "3.6"
- "3.7"
- "3.8"
before_install:
- pip install pipenv
- curl -L https://codeclimate.com/downloads/test-reporter/test-reporter-latest-linux-amd64 > ./cc-test-reporter
- chmod +x ./cc-test-reporter
- ./cc-test-reporter before-build
install:
- pipenv install --dev
script:
- pipenv run flake8
- pipenv run py.test
after_script:
- ./cc-test-reporter after-build --exit-code ${TRAVIS_TEST_RESULT}
deploy:
- provider: pypi
  user: amancevice
  password:
    secure: >-
      d7xe52q0OEDkbbuhdceUyhfefj7yOL/bjF4MZ5zhyVqoYDF6jvbreLWVBlxgyQiuJLPNLnkxw
      rYvIXzKnkkranhd2qF1PHsvREy5G05xxsWM80R+lkw10YgcDzl7OFx0QUfW/5T5VWVu76966f
      IDSkxlxqLFVTPEqOBH/+kLCBuMqhiplKPNJNl7E2BFLth2RabjWh0e0GM+GHgCrlhc0hdW631
      sPcddsX8nC8tHKQsnVCEY7FgmpaT9IU7cNeLjEXD5J8OfGkmY+tv5wlCv+SwF09oYPJ46jHXT
      Ikl3Z57ti9gx2UWx/xwdHT+MRdkDN1+C3feCy69Owz3Jfpa+2rGaha4v+awNvMBc0+xljSuk5
      eWzk0439cMC/Us9X7Vqb8a/rS49YQu9Bb8aW6hArQWPJaoUysT/MOMpMHS+yKa9Z3kkv+53vb
      0NkqQV0+ofdgi5anGGB9IxL1etmTQBEUZmmIQ82SiHzHVejy5E3XTdYqL2YG+NNs8b3yQJbhe
      43DZ+DZ0z7kDQf3AqjspGpiGTV82uPqY2zGpZAVlKDbIDMFMVPpG6bQQzGU8IkA4h7QS3L5gH
      XGEp8Pf+U32yyR5rIJgWtAKpceqTrdFh6HYAbnVycTSynYzeE4zhBnKsaN75rwxn1DKgoZyGF
      L7gKi2CbcLsoPXOfukUumYqitM=
  on:
    repo: amancevice/flatsplode
    tags: true
